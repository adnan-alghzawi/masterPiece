@{
    ViewData["Title"] = "Contact Us";
}

@section Styles {
    <link rel="stylesheet" href="~/css/contact.css" />
}

<section class="contact-area">
    <div class="container">
        <div class="row align-items-center justify-content-between">
            <div class="col-12 col-lg-5">
                <!-- Section Heading -->
                <div class="section-heading">
                    <h2>GET IN TOUCH</h2>
                    <p>Send us a message, we will call back later</p>
                </div>
                <!-- Contact Form Area -->
                <div class="contact-form-area mb-100">
                    <form id="contactForm">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="hidden" name="_next" value="http://localhost:7083/Home/Contact">

                        <div class="form-group">
                            <input type="text" name="name" placeholder="Your Name" required />
                        </div>
                        <div class="form-group">
                            <input type="email" name="email" placeholder="Your Email" required />
                        </div>
                        <div class="form-group">
                            <input type="text" name="subject" placeholder="Subject" required />
                        </div>
                        <div class="form-group">
                            <textarea name="message" rows="5" placeholder="Message" required></textarea>
                        </div>
                        <button type="submit" class="btn">Send Message</button>
                    </form>

                    <!-- ✅ Popup success message -->
                    <div id="popup" style="display: none; background-color: #4CAF50; color: white; padding: 15px; border-radius: 5px; margin-top: 20px;">
                        ✅ Your message was sent successfully!
                    </div>

                    <script>
                        document.getElementById("contactForm").addEventListener("submit", function (e) {
                            e.preventDefault(); // ❌ إيقاف الإرسال العادي

                            const form = e.target;
                            const formData = new FormData(form);

                            fetch("http://formsubmit.co/alghzawiadnan22@gmail.com", {
                                method: "POST",
                                body: formData
                            })
                            .then(response => {
                                if (response.ok) {
                                    document.getElementById("popup").style.display = "block";
                                    form.reset(); // 🧹 تنظيف الحقول
                                } else {
                                    alert("❌ Something went wrong. Please try again.");
                                }
                            })
                            .catch(error => {
                                alert("Thank you for contacting us !");
                            });
                        });
                    </script>

                </div>
            </div>

            <div class="col-12 col-lg-6">
                <!-- Google Maps -->
                <div class="map-area mb-100">
                    <a href="https://maps.app.goo.gl/6KBoiabMTbr7AuG19">
                        <img src="/images/location.jpeg" alt="Location Map" width="100%" height="350" />
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>